<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>My Google Map</title>
  <style>
    html, body {height: 100%; margin: 0; padding: 0;}
    #map {height: 100%;}
    #content {position: relative; width: 100%; height: 100%;}
  </style>
</head>
<body>
  <h1>My Google Map</h1>
  <div id="map"></div>
  <script>
var mapStyle = [ {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#dc1000",
        "marker-size": "medium",
        "marker-symbol": "heliport",
        "CAT_CODE": "novisad"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          19.8335496,
          45.2671352
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#2095c8",
        "marker-size": "large",
        "marker-symbol": "1",
        "CAT_CODE": "beograd"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          20.4589216,
          44.786568
        ]
      }
    },
	{
      "type": "Feature",
      "properties": {
        "marker-color": "#dc0000",
        "marker-size": "medium",
        "marker-symbol": "",
        "CAT_CODE": "beograd"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          20.5589216,
          44.986568
        ]
      }
    },
	{
      "type": "Feature",
      "properties": {
        "marker-color": "#f19",
        "marker-size": "medium",
        "marker-symbol": "3",
        "CAT_CODE": "sarajevo"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          18.4130763,
          43.8562586
        ]
      }
    },
	{
      "type": "Feature",
      "properties": {
        "marker-color": "#3bd2d7",
        "marker-size": "medium",
        "marker-symbol": "2",
        "CAT_CODE": "zagreb"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          15.981919,
          45.8150108
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#dc1000",
        "marker-size": "medium",
        "marker-symbol": "",
        "CAT_CODE": "novisad",
		"moj_filter": "mojfilter"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          19.8335496,
          45.2671352
        ]
      }
    }
]}]
    
    function initMap(){
      
      // Map options
      var options = {
        zoom:8,
        center:{lat:42.3601,lng:-71.0589},
        styles: [
            {elementType: 'geometry', stylers: [{color: '#242f3e'}]},
            {elementType: 'labels.text.stroke', stylers: [{color: '#242f3e'}]},
            {elementType: 'labels.text.fill', stylers: [{color: '#746855'}]},
            {
              featureType: 'administrative.locality',
              elementType: 'labels.text.fill',
              stylers: [{color: '#d59563'}]
            },
            {
              featureType: 'poi',
              elementType: 'labels.text.fill',
              stylers: [{color: '#d59563'}]
            },
            {
              featureType: 'poi.park',
              elementType: 'geometry',
              stylers: [{color: '#263c3f'}]
            },
            {
              featureType: 'poi.park',
              elementType: 'labels.text.fill',
              stylers: [{color: '#6b9a76'}]
            },
            {
              featureType: 'road',
              elementType: 'geometry',
              stylers: [{color: '#38414e'}]
            },
            {
              featureType: 'road',
              elementType: 'geometry.stroke',
              stylers: [{color: '#212a37'}]
            },
            {
              featureType: 'road',
              elementType: 'labels.text.fill',
              stylers: [{color: '#9ca5b3'}]
            },
            {
              featureType: 'road.highway',
              elementType: 'geometry',
              stylers: [{color: '#746855'}]
            },
            {
              featureType: 'road.highway',
              elementType: 'geometry.stroke',
              stylers: [{color: '#1f2835'}]
            },
            {
              featureType: 'road.highway',
              elementType: 'labels.text.fill',
              stylers: [{color: '#f3d19c'}]
            },
            {
              featureType: 'transit',
              elementType: 'geometry',
              stylers: [{color: '#2f3948'}]
            },
            {
              featureType: 'transit.station',
              elementType: 'labels.text.fill',
              stylers: [{color: '#d59563'}]
            },
            {
              featureType: 'water',
              elementType: 'geometry',
              stylers: [{color: '#17263c'}]
            },
            {
              featureType: 'water',
              elementType: 'labels.text.fill',
              stylers: [{color: '#515c6d'}]
            },
            {
              featureType: 'water',
              elementType: 'labels.text.stroke',
              stylers: [{color: '#17263c'}]
            }
          ]
      }

      // New map
      var map = new google.maps.Map(document.getElementById('map'), options);

      var markers = [
        {
          coords:{lat:42.4668,lng:-70.9495},
          iconImage:'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',
          content:'<h1>Lynn MA</h1>'
        },
        {
          coords:{lat:42.8584,lng:-70.9300},
         // content:'<h1>Amesbury '+<br>ssssssssssss<br>sssssssssssss<br>sssssssssss</h1>'
        },
        {
          coords:{lat:42.7762,lng:-71.0773}
        }
      ];

      // Loop through markers
      for(var i = 0;i < markers.length;i++){
        // Add marker
        addMarker(markers[i]);
      }

      // Add Marker Function
      function addMarker(props){
        var marker = new google.maps.Marker({
          position:props.coords,
          map:map
          //icon:props.iconImage
        });

        // Check for customicon
        if(props.iconImage){
          // Set icon image
          marker.setIcon(props.iconImage);
        }

        // Check content
        if(props.content){
          var infoWindow = new google.maps.InfoWindow({
            content:props.content
          });

          marker.addListener('click', function(){
            infoWindow.open(map, marker);
          });
        }
      }
    }
  </script>
  <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyClDGFnyszA_dpXvvYW63HqTSOvz04JJps&callback=initMap">
    </script>
</body>
</html>
